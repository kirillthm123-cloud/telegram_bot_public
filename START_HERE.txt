=====================================================
  TELEGRAM –ë–û–¢-–ù–£–ú–ï–†–û–õ–û–ì v5.0 - –ò–°–ü–†–ê–í–õ–ï–ù–û –í–°–Å!
  –ù–ê–ß–ù–ò–¢–ï –ó–î–ï–°–¨
=====================================================

‚úÖ –ß–¢–û –ë–´–õ–û –ò–°–ü–†–ê–í–õ–ï–ù–û:

1. YooKassa –æ–ø–ª–∞—Ç–∞ –†–ê–ë–û–¢–ê–ï–¢ ‚úÖ
   - –ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å API
   - –°–æ–∑–¥–∞–Ω–∏–µ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–ª–∞—Ç–µ–∂–µ–π
   - –ê–≤—Ç–æ–∞–∫—Ç–∏–≤–∞—Ü–∏—è –ø–æ–¥–ø–∏—Å–∫–∏

2. AI-–ø—Å–∏—Ö–æ–ª–æ–≥ –ü–û–ú–ù–ò–¢ –¥–∏–∞–ª–æ–≥–∏ ‚úÖ
   - –ò—Å—Ç–æ—Ä–∏—è –ø–æ—Å–ª–µ–¥–Ω–∏—Ö 15 —Å–æ–æ–±—â–µ–Ω–∏–π
   - –ö–æ–Ω—Ç–µ–∫—Å—Ç —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏
   - –ö–Ω–æ–ø–∫–∞ –æ—á–∏—Å—Ç–∫–∏ –∏—Å—Ç–æ—Ä–∏–∏

3. –û—à–∏–±–∫–∞ –∑–∞–ø—É—Å–∫–∞ –ò–°–ü–†–ê–í–õ–ï–ù–ê ‚úÖ
   - –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ PTB v21+
   - Async/await –≤–µ–∑–¥–µ
   - JobQueue —á–µ—Ä–µ–∑ post_init

=====================================================
  –ë–´–°–¢–†–´–ô –°–¢–ê–†–¢ (3 –®–ê–ì–ê)
=====================================================

–®–ê–ì 1: –°–û–ó–î–ê–ô–¢–ï .env –§–ê–ô–õ
--------------------------
cd /home/ubuntu/telegram_bot_fixed
cp .env.example .env
nano .env

–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è:
  - BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_–æ—Ç_BotFather
  - DEEPSEEK_API_KEY=–≤–∞—à_–∫–ª—é—á
  - ADMIN_USER_ID=–≤–∞—à_user_id

YooKassa —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞:
  - YUKASSA_SHOP_ID=1187960
  - YUKASSA_SECRET_KEY=live_tojfBk8Lz9MkNFNEV3TEUtCAdhGMHCu9YEI4J67MxCc

–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ: Ctrl+O, Enter, Ctrl+X


–®–ê–ì 2: –£–°–¢–ê–ù–û–í–ò–¢–ï –ó–ê–í–ò–°–ò–ú–û–°–¢–ò
------------------------------
python3 -m venv venv
source venv/bin/activate
pip install -r requirements.txt


–®–ê–ì 3: –ó–ê–ü–£–°–¢–ò–¢–ï –ë–û–¢–ê
----------------------
python3 bot.py

–î–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è:
‚úÖ –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∑–∞–≥—Ä—É–∂–µ–Ω—ã
‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞
‚úÖ YooKassa –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞
üìÖ –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è —Ä–∞—Å—Å—ã–ª–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞
‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω!

–ù–∞–∂–º–∏—Ç–µ Ctrl+C –¥–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏.

=====================================================
  –†–ê–ó–í–ï–†–¢–´–í–ê–ù–ò–ï –ù–ê –°–ï–†–í–ï–†–ï
=====================================================

–ü–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –≤ —Ñ–∞–π–ª–µ:
üìñ DEPLOY_INSTRUCTIONS.md (–∏–ª–∏ .pdf –≤–µ—Ä—Å–∏—è)

–ö—Ä–∞—Ç–∫–∞—è –≤–µ—Ä—Å–∏—è:
---------------

1. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –≤—Å–µ —Ñ–∞–π–ª—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä:
   scp -r /home/ubuntu/telegram_bot_fixed/* root@server:/root/telegram_bot/

2. –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ:
   cd /root/telegram_bot
   python3 -m venv venv
   source venv/bin/activate
   pip install -r requirements.txt

3. –°–æ–∑–¥–∞–π—Ç–µ .env –∏–∑ .env.example

4. –°–æ–∑–¥–∞–π—Ç–µ systemd —Å–µ—Ä–≤–∏—Å:
   nano /etc/systemd/system/telegram_bot.service
   
   –°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Å–º–æ—Ç—Ä–∏—Ç–µ –≤ DEPLOY_INSTRUCTIONS.md

5. –ó–∞–ø—É—Å—Ç–∏—Ç–µ:
   systemctl daemon-reload
   systemctl enable telegram_bot.service
   systemctl start telegram_bot.service

6. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
   systemctl status telegram_bot.service
   tail -f /root/telegram_bot/bot.log

=====================================================
  –°–¢–†–£–ö–¢–£–†–ê –§–ê–ô–õ–û–í
=====================================================

üìÅ telegram_bot_fixed/
‚îú‚îÄ‚îÄ üìÑ bot.py                   - –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª (–ò–°–ü–†–ê–í–õ–ï–ù)
‚îú‚îÄ‚îÄ üìÑ requirements.txt         - –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python
‚îú‚îÄ‚îÄ üìÑ .env.example            - –®–∞–±–ª–æ–Ω –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ üìÑ database_schema.sql     - –°—Ö–µ–º–∞ –ë–î
‚îú‚îÄ‚îÄ üìÑ README.md               - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ üìÑ DEPLOY_INSTRUCTIONS.md  - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –¥–µ–ø–ª–æ—é
‚îú‚îÄ‚îÄ üìÑ CHANGES_SUMMARY.md      - –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å
‚îî‚îÄ‚îÄ üìÑ START_HERE.txt          - –≠—Ç–æ—Ç —Ñ–∞–π–ª

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –ø–æ—è–≤—è—Ç—Å—è:
‚îú‚îÄ‚îÄ üìÑ .env                    - –í–∞—à–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ üìÑ bot.db                  - –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ üìÑ bot.log                 - –õ–æ–≥–∏
‚îî‚îÄ‚îÄ üìÅ venv/                   - –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ

=====================================================
  –ü–†–û–í–ï–†–ö–ê –†–ê–ë–û–¢–´
=====================================================

1. –û—Ç–∫—Ä–æ–π—Ç–µ –±–æ—Ç–∞ –≤ Telegram
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ /start
3. –ü—Ä–æ–π–¥–∏—Ç–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é
4. –ù–∞–∂–º–∏—Ç–µ "‚≠ê –û—Ñ–æ—Ä–º–∏—Ç—å PRO"
5. –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∞—Ä–∏—Ñ
6. –ù–∞–∂–º–∏—Ç–µ "üí≥ –û–ø–ª–∞—Ç–∏—Ç—å"
7. –û–ø–ª–∞—Ç–∏—Ç–µ (—Ç–µ—Å—Ç–æ–≤–∞—è –∫–∞—Ä—Ç–∞: 5555 5555 5555 4477)
8. –í–µ—Ä–Ω–∏—Ç–µ—Å—å –≤ –±–æ—Ç–∞
9. –ù–∞–∂–º–∏—Ç–µ "‚úÖ –Ø –æ–ø–ª–∞—Ç–∏–ª"
10. –ü–æ–¥–ø–∏—Å–∫–∞ –¥–æ–ª–∂–Ω–∞ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å—Å—è! üéâ

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ AI —Å –ø–∞–º—è—Ç—å—é:
- –°–ø—Ä–æ—Å–∏—Ç–µ "–†–∞—Å—Å–∫–∞–∂–∏ –æ —á–∏—Å–ª–µ —Å–æ–∑–Ω–∞–Ω–∏—è"
- –ó–∞—Ç–µ–º "–ê —á—Ç–æ —ç—Ç–æ –∑–Ω–∞—á–∏—Ç –¥–ª—è –º–µ–Ω—è?"
- AI –¥–æ–ª–∂–µ–Ω –ø–æ–º–Ω–∏—Ç—å –ø—Ä–µ–¥—ã–¥—É—â–∏–π –≤–æ–ø—Ä–æ—Å

=====================================================
  –í–ê–ñ–ù–´–ï –ö–û–ú–ê–ù–î–´
=====================================================

–î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
  /start   - –ù–∞—á–∞—Ç—å / –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
  /menu    - –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
  /help    - –°–ø—Ä–∞–≤–∫–∞
  /cancel  - –û—Ç–º–µ–Ω–∏—Ç—å –¥–µ–π—Å—Ç–≤–∏–µ

–î–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞:
  /admin            - –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
  /admin_users      - –°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
  /admin_stats      - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
  /grant_pro 123 1  - –í—ã–¥–∞—Ç—å PRO –Ω–∞ 1 –º–µ—Å—è—Ü

=====================================================
  –†–ï–®–ï–ù–ò–ï –ü–†–û–ë–õ–ï–ú
=====================================================

–ü—Ä–æ–±–ª–µ–º–∞: "BOT_TOKEN not found"
–†–µ—à–µ–Ω–∏–µ: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ .env —Ñ–∞–π–ª, –¥–æ–±–∞–≤—å—Ç–µ BOT_TOKEN

–ü—Ä–æ–±–ª–µ–º–∞: "YooKassa –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞"
–†–µ—à–µ–Ω–∏–µ: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ YUKASSA_SHOP_ID –∏ YUKASSA_SECRET_KEY

–ü—Ä–æ–±–ª–µ–º–∞: "AI –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç"
–†–µ—à–µ–Ω–∏–µ: 
  1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ DEEPSEEK_API_KEY
  2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–∞–ª–∞–Ω—Å –Ω–∞ platform.deepseek.com

–ü—Ä–æ–±–ª–µ–º–∞: "–ò—Å—Ç–æ—Ä–∏—è –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è"
–†–µ—à–µ–Ω–∏–µ:
  1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ë–î —Å–æ–∑–¥–∞–Ω–∞
  2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–∞–±–ª–∏—Ü—É:
     sqlite3 bot.db "SELECT name FROM sqlite_master WHERE type='table';"
  3. –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Ç–∞–±–ª–∏—Ü–∞ conversation_history

–ü—Ä–æ–±–ª–µ–º–∞: –ë–æ—Ç –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
–†–µ—à–µ–Ω–∏–µ:
  1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Python –≤–µ—Ä—Å–∏—é: python3 --version (–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å 3.9+)
  2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: tail -100 bot.log
  3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å: systemctl status telegram_bot.service

=====================================================
  –ü–û–õ–ï–ó–ù–´–ï –°–°–´–õ–ö–ò
=====================================================

üìñ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:
   - README.md - –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
   - DEPLOY_INSTRUCTIONS.md - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –¥–µ–ø–ª–æ—é
   - CHANGES_SUMMARY.md - –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å

üîó –í–Ω–µ—à–Ω–∏–µ —Ä–µ—Å—É—Ä—Å—ã:
   - Telegram Bots: https://core.telegram.org/bots
   - DeepSeek: https://platform.deepseek.com/
   - YooKassa: https://yookassa.ru/developers/api
   - PTB Docs: https://docs.python-telegram-bot.org/

=====================================================
  –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –î–ï–¢–ê–õ–ò
=====================================================

–í–µ—Ä—Å–∏—è: 5.0
Python: 3.9+
PTB: 21.4+
–ë–î: SQLite
AI: DeepSeek Chat
–û–ø–ª–∞—Ç–∞: YooKassa API

–û—Å–Ω–æ–≤–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:
‚úÖ –ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è YooKassa
‚úÖ –ò—Å—Ç–æ—Ä–∏—è –¥–∏–∞–ª–æ–≥–æ–≤ (—Ç–∞–±–ª–∏—Ü–∞ conversation_history)
‚úÖ Async/await –≤–µ–∑–¥–µ
‚úÖ JobQueue —á–µ—Ä–µ–∑ post_init
‚úÖ zoneinfo –≤–º–µ—Å—Ç–æ pytz

=====================================================

üéâ –í–°–Å –ì–û–¢–û–í–û –ö –†–ê–ë–û–¢–ï!

–°–ª–µ–¥—É–π—Ç–µ —à–∞–≥–∞–º –≤—ã—à–µ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –±–æ—Ç–∞.
–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≤ README.md –∏ DEPLOY_INSTRUCTIONS.md

–ü—Ä–∏—è—Ç–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è! üöÄ

=====================================================
